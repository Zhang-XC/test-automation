- common:
    api_name: Register user
    url: /auth/register
    method: POST
    header:
      Content-Type: application/x-www-form-urlencoded

  testcases:
    - case_name: Valid registration
      data:
        username: newuser
        password: test123456
      validation:
        - contains:
            message: Successfully registered user
        - status: 200

  testcases:
    - case_name: Invalid registration - Username exists
      data:
        username: testuser
        password: test123456
      validation:
        - contains:
            message: Username exists
        - status: 409

  testcases:
    - caseName: Invalid registration - Missing username
      data:
        username: newuser
      validation:
        - contains:
            message: Missing key parameters
        - status: 400

- common:
    api_name: Login
    url: /auth/login
    method: POST
    header:
      Content-Type: application/x-www-form-urlencoded

  testcases:
    - case_name: Valid login
      data:
        username: testuser
        password: testpassword
      validation:
        - contains:
            message: Login successful
        - status: 200
      extract:
        token: $.token